/**
 * @file src/components/main/sections/MainPTNSSearch.css
 * @description 제휴업체 검색 페이지 (지도 기반 검색 레이아웃)
 * 251218 v1.0.0 sara init 
 * 251220 v1.1.0 sara add kakao map modal
 * 251226 useKakaoLoader 기반 지점 검색 (Geocoding 및 현위치 통합)
 */

/* --- 애니메이션 --- */
@keyframes ptnssearch-fade-in { from { opacity: 0; } to { opacity: 1; } }
@keyframes ptnssearch-scale-up { from { opacity: 0; transform: scale(0.98); } to { opacity: 1; transform: scale(1); } }
@keyframes ptnssearch-slide-up { from { transform: translateY(20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }

/* --- 모달 레이아웃 --- */
.ptnssearch-modal-overlay {
  position: fixed; top: 0; left: 0; width: 100%; height: 100%;
  background-color: rgba(17, 24, 39, 0.7);
  display: flex; align-items: center; justify-content: center;
  z-index: 2000; backdrop-filter: blur(4px);
  animation: ptnssearch-fade-in 0.3s ease-out;
}

.ptnssearch-modal-content {
  width: 95%; height: 85%; max-width: 1100px;
  background: var(--com-color-white);
  border-radius: var(--com-radius-lg);
  display: flex; flex-direction: column; overflow: hidden;
  border: 1px solid var(--com-border-default);
  box-shadow: var(--com-shadow-md);
  animation: ptnssearch-scale-up 0.3s ease-out;
}

.ptnssearch-modal-header {
  padding: var(--com-gap-md);
  display: flex; gap: var(--com-gap-sm); align-items: center;
  border-bottom: 1px solid var(--com-border-default);
}

.ptnssearch-main-layout {
  display: flex; flex: 1; overflow: hidden;
  background-color: var(--com-color-white);
}

/* --- 사이드바 (리스트 영역) --- */
.ptnssearch-sidebar {
  width: 320px; display: flex; flex-direction: column;
  border-right: 1px solid var(--com-border-default);
  animation: ptnssearch-fade-in 0.3s ease-out;
}

.ptnssearch-sidebar-search-area {
  padding: 12px; display: flex; align-items: center; gap: 8px;
  border-bottom: 1px solid var(--com-border-default);
  background: var(--com-color-bg-light);
}

.ptnssearch-sidebar-search-icon { color: var(--com-font-muted); }

.ptnssearch-sidebar-search-input {
  border: none; background: transparent; width: 100%;
  font-size: 14px; outline: none;
}

.ptnssearch-sidebar-store-list { flex: 1; overflow-y: auto; }

.ptnssearch-sidebar-store-item {
  padding: 16px; border-bottom: 1px solid var(--com-border-default);
  cursor: pointer; transition: background 0.2s;
}

.ptnssearch-sidebar-store-item:hover { background-color: var(--com-color-bg-light); }

.ptnssearch-sidebar-store-item.ptnssearch-is-active {
  background-color: #f3f4f6; border-left: 4px solid var(--com-color-black);
}

.ptnssearch-store-item-name {
  font-weight: var(--com-font-weight-bold); font-size: 15px;
  display: flex; align-items: center; gap: 6px; margin-bottom: 4px;
}

.ptnssearch-store-item-address { font-size: 12px; color: var(--com-font-muted); }

.ptnssearch-sidebar-no-result { padding: 40px; text-align: center; color: var(--com-font-muted); font-size: 14px; }

/* --- 검색바 및 입력창 --- */
.ptnssearch-input-box {
  position: relative; flex: 1; display: flex; align-items: center;
  cursor: pointer; height: 44px; padding: 0 12px;
  border: 1px solid var(--com-border-default);
  border-radius: var(--com-radius-md);
  background-color: var(--com-color-bg-light);
  transition: border-color 0.2s ease;
}

.ptnssearch-input-inner-icon { position: absolute; left: 12px; color: var(--com-font-muted); z-index: 1; }

.ptnssearch-input-text {
  flex-grow: 1; padding-left: 36px; font-size: var(--com-size-sidebar);
  color: var(--com-color-black); white-space: nowrap;
  overflow: hidden; text-overflow: ellipsis;
}

.ptnssearch-input-text.ptnssearch-is-placeholder { color: #d1d5db; }

.ptnssearch-modal-close-button { background: none; border: none; font-size: 24px; cursor: pointer; color: var(--com-font-muted); }

/* --- 지도 및 상세 카드 --- */
.ptnssearch-map-container { flex: 1; position: relative; }

.ptnssearch-current-location-btn {
  position: absolute; bottom: 20px; right: 20px; z-index: 100;
  width: 44px; height: 44px; border-radius: 50%;
  background-color: var(--com-color-white); border: 1px solid var(--com-border-default);
  box-shadow: var(--com-shadow-md); display: flex; align-items: center;
  justify-content: center; cursor: pointer; transition: all 0.2s ease;
}

.ptnssearch-postcode-embed-wrapper { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 150; background: #fff; }

.ptnssearch-detail-card {
  position: absolute; bottom: var(--com-gap-md); left: var(--com-gap-md); right: var(--com-gap-md);
  background: var(--com-color-white); padding: var(--com-gap-md);
  border-radius: var(--com-radius-md); z-index: 100;
  border: 1px solid var(--com-color-black); box-shadow: var(--com-shadow-default);
}

.ptnssearch-detail-card.ptnssearch-animate-slide-up { animation: ptnssearch-slide-up 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94); }

.ptnssearch-detail-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--com-gap-xs); }

.ptnssearch-detail-close { background: none; border: none; font-size: 18px; cursor: pointer; color: var(--com-font-muted); }

.ptnssearch-detail-tag { font-size: var(--com-size-mini); background: var(--com-color-black); color: var(--com-color-white); padding: 2px 8px; border-radius: 4px; }

.ptnssearch-detail-title { font-size: var(--com-size-subtitle); font-weight: var(--com-font-weight-bold); margin-bottom: 4px; }

.ptnssearch-detail-address { font-size: var(--com-size-sub-title); color: var(--com-font-muted); margin-bottom: var(--com-gap-sm); }

.ptnssearch-detail-link-btn {
  display: flex; align-items: center; justify-content: center; gap: var(--com-gap-xs);
  width: 100%; background: var(--com-color-black); color: var(--com-color-white);
  padding: 12px; border-radius: var(--com-radius-pill); text-decoration: none;
  font-weight: var(--com-font-weight-heavy); font-size: var(--com-size-sidebar);
}

/* --- 메인 섹션 스타일 (1400px 대응) --- */
.ptnssearch-section-wrapper { 
  max-width: var(--com-web-max-width); 
  margin: 0 auto; 
  padding: 0 var(--com-container-padding);
}

.ptnssearch-header-group { margin-bottom: var(--com-gap-lg); }

.ptnssearch-title-text { font-size: var(--com-size-title); font-weight: var(--com-font-weight-heavy); color: var(--com-color-black); }

.ptnssearch-desc-text { font-size: var(--com-size-subtitle); color: var(--com-font-muted); }

.ptnssearch-card-box { 
  width: 100%;
  border: 1px solid var(--com-border-default);
  border-radius: var(--com-radius-lg);
  padding: var(--com-section-padding) 0; 
  background-color: var(--com-color-white);
  box-shadow: var(--com-shadow-default);
  box-sizing: border-box;
}

.ptnssearch-search-placeholder-content { display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; }

.ptnssearch-search-placeholder-text { font-size: var(--com-size-sub-title); color: var(--com-font-muted); margin-bottom: var(--com-gap-md); }

.ptnssearch-search-find-btn {
  display: inline-flex; align-items: center; justify-content: center; gap: var(--com-gap-sm);
  padding: 14px 28px; border-radius: var(--com-radius-pill); border: none;
  background-color: var(--com-color-black); color: var(--com-color-white);
  font-size: var(--com-size-subtitle); font-weight: var(--com-font-weight-heavy);
  cursor: pointer; transition: all 0.3s ease;
}

@media screen and (max-width: 768px) { .ptnssearch-sidebar { display: none; } }