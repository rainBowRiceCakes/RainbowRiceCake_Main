/**
 * @file src/components/common/PWAInstallButton.css
 * @description PWA Install Button UI (웹/앱)
 * 251219 v1.0.0 jun init
 */

/* PWAInstallPrompt.css */

/* 배경을 어둡게 처리하는 오버레이 (선택사항) */
.pwa-install-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.4);
  z-index: 9998;
  display: flex;
  justify-content: center;
  align-items: flex-end; /* 바텀 시트 형태 */
}

/* 실제 설치 창 컨테이너 */
.pwa-install-container {
  width: 100%;
  /* 모바일 최적화: 제공된 모바일 max-width 변수 활용 혹은 100% */
  max-width: var(--com-mobile-max-width, 375px); 
  background-color: var(--com-color-white);
  border-top-left-radius: 20px;
  border-top-right-radius: 20px;
  padding: var(--com-section-padding) var(--com-container-padding);
  /* 하단에서 올라오는 애니메이션 */
  animation: slideUp 0.3s ease-out forwards;
  box-shadow: 0 -4px 16px rgba(0, 0, 0, 0.1);
  z-index: 9999;
  
  /* 모바일에서 섹션 패딩이 너무 클 경우를 대비해 약간 조정 */
  padding-top: var(--com-gap-xl);
  padding-bottom: 40px; 
}

/* 텍스트 영역 */
.pwa-content {
  margin-bottom: var(--com-size-icon);
  text-align: center;
}

.pwa-title {
  font-size: var(--com-font-size-title);
  font-weight: var(--com-font-weight-heavy);
  color: var(--com-font-primary-color);
  margin-bottom: var(--com-gap-xs);
}

.pwa-description {
  font-size: var(--com-font-size-content);
  color: var(--com-footer-slogan-color); /* 약간 흐린 텍스트 색상 활용 */
  line-height: 1.5;
}

/* 버튼 그룹 */
.pwa-button-group {
  display: flex;
  gap: var(--com-radius-md);
  justify-content: space-between;
}

.pwa-btn {
  flex: 1;
  padding: 14px 0;
  border-radius: 8px;
  font-size: var( --com-size-subtitle);
  font-weight: var(--com-font-weight-heavy);
  cursor: pointer;
  border: none;
  transition: opacity 0.2s;
}

.pwa-btn:active {
  opacity: 0.8;
}

/* 닫기 버튼 (회색 톤) */
.pwa-btn-close {
  background-color: var(--com-color-bg-section);
  color: var(--com-font-gray);
  border: 1px solid var(--com-border-default);
}

/* 설치 버튼 (강조색 - 파란색) */
.pwa-btn-install {
  background-color: var(--com-color-black);
  color: var(--com-color-white); /* 흰색 텍스트 */
}

/* 애니메이션 정의 */
@keyframes slideUp {
  from {
    transform: translateY(100%);
  }
  to {
    transform: translateY(0);
  }
}

/* 아이폰 SE 등 작은 화면 미디어 쿼리 대응 (변수가 이미 처리하지만 추가 보정) */
@media screen and (max-width: 375px) {
  .pwa-install-container {
    padding-top: var(--com-container-padding);
    padding-bottom: var(--com-gap-xl);
  }
}

/* =========================================
   [웹 버전] 데스크탑/태블릿 중앙 정렬 미디어 쿼리
   (화면 너비가 768px 이상일 때 적용됨)
========================================= */
@media screen and (min-width: 768px) {
  /* 1. 오버레이: 하단 정렬(flex-end) -> 중앙 정렬(center)로 변경 */
  .pwa-install-overlay {
    align-items: center;
  }

  /* 2. 컨테이너: 바텀 시트 스타일 -> 중앙 모달 창 스타일로 변경 */
  .pwa-install-container {
    /* 모바일 전용 max-width 해제 후 데스크탑용 너비 설정 */
    width: auto;
    min-width: 400px;
    max-width: 480px; 

    /* 상단만 둥글었던 모서리를 모두 둥글게 변경 */
    border-radius: 16px; 
    
    /* 내부 여백을 조금 더 여유롭게 조정 */
    padding: 32px;
    
    /* 기존 슬라이드 업(slideUp) 애니메이션을 덮어쓰고 페이드인 효과 적용 */
    animation: pwaDesktopFadeIn 0.3s ease-out forwards;
    
    /* PC에서는 그림자를 조금 더 깊게 주어 입체감 강조 */
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15); 
  }

  /* (선택사항) PC 화면에 맞춰 폰트 크기 약간 키움 */
  .pwa-title {
    font-size: 20px;
    margin-bottom: var(--com-radius-md);
  }
  .pwa-description {
    font-size: var(--com-size-sidebar);
    margin-bottom: var(--com-gap-xl);
  }
}

/* 데스크탑용 페이드인 + 팝업 애니메이션 정의 */
@keyframes pwaDesktopFadeIn {
  from {
    opacity: 0;
    transform: scale(0.95); /* 약간 작은 상태에서 시작 */
  }
  to {
    opacity: 1;
    transform: scale(1); /* 원래 크기로 복귀 */
  }
}